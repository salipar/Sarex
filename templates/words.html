<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Word Path Generator</title>
    <style>

        .result {
            display: flex;
            justify-content: center; /* Centers the paths horizontally */
            gap: 20px; /* Adds space between the paths */
            margin-top: 20px;
        }

        .list-section {
            flex: 0; /* Allows each path to take up equal space */
            min-width: 200px; /* Ensures paths don't shrink below a certain width */
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #fff;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            width: 20pix;
        }

        .list-title {
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        .result-grid div {
            padding: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
        }
   
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            text-align: center;
            background-color: #f4f4f9;
        }
        input[type="text"] {
            width: 300px;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            padding: 10px 20px;
            margin: 20px 0;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        .result {
            margin-top: 20px;
            font-size: 18px;
            color: #333;
        }
        .result p {
            margin: 5px 0;
        }
        .word-button {
        display: block;
        margin: 5px;
        padding: 5px 10px;
        border: none;
        border-radius: 3px;
        background-color: #eee;
        color: #333;
        font-size: 14px;
        cursor: default;
        text-align: center;
}
        
    </style>
    <link rel="icon" href="{{ url_for('static', filename='images/sarex.ico') }}" type="image/x-icon">
</head>
<body>

    <h1>Word Path Generator</h1>

    <form id="wordForm">
        <input type="text" id="sourceword" name="sourceword" placeholder="Enter source word" required><br>
        <input type="text" id="targetword" name="targetword" placeholder="Enter target word" required><br>
        <button type="submit">Generate Path</button>
    </form>

    <div class="result" id="result">
        <!-- The result will be displayed here -->
    </div>

    <script>
        document.getElementById('wordForm').onsubmit = function(e) {
            e.preventDefault();

            const sourceword = document.getElementById('sourceword').value.toLowerCase();
            const targetword = document.getElementById('targetword').value.toLowerCase();

            fetch('/api/wordpath', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `sourceword=${sourceword}&targetword=${targetword}`
            })
            .then(response => response.json())
            .then(data => {
                const resultDiv = document.getElementById('result');
                resultDiv.innerHTML = ''; // Clear previous results


                if (data.error.length != 0) {
                    const p = document.createElement('p');
                    p.textContent = `${data.error}`;
                    resultDiv.appendChild(p);
                } else {
                    data.result.forEach((list, index) => {
                        const listDiv = document.createElement('div');
                        listDiv.className = 'list-section';

                        const title = document.createElement('p');
                        //title.textContent = `Path ${index + 1}`;
                        title.className = 'list-title';
                        listDiv.appendChild(title);

                        list.forEach(word => {
                            const button = document.createElement('div');
                            button.className = 'word-button';
                            button.textContent = word;
                            listDiv.appendChild(button);
                        });

                        resultDiv.appendChild(listDiv);
                    });
                }

           
            });
        };
    </script>

</body>
</html>
